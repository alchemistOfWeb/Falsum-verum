# forumKEI
> developed by Nikita Kuznetsov


* [1. Формулировка тз](#task_description)
* [2. Установка и настройка](#setup)
    * [1. Установка зависимостей](#dependences)
    * [2. Секретный ключ](#create_secret_key)
    * [3. Настройка базы данных](#setup_db)
    * [4. Миграции](#migrations)
    * [5. Предварительный парсинг всех продуктов](#scrap_sitemap)
    * [6. Для доступа к админке ](#admin_panel)
    * [7. Запуск тестового сервера](#test_server)
* [3. Описание функционала приложения](#description)
    * [Регистрация и вход](#auth)
    * [Пользователи](#users)
    * [Ссылки на все товары](#products)
    * [Список комментариев к товару](#opinions)


## 1. Формулировка тз:
<a name="task_description"></a> 


### Общие требования: 

* Разработка информационной системы для создания обучающих курсов.

* Система входа на сайт
    * [x] регистрация
    * [x] вход
    * [x] выход
    * [x] изменение данных
    * [ ] изменение пароля
* Личный кабинет
    * [x] никнейм
    * [x] почта
    * [x] пароль
    * [x] дата регистрации
    * [ ] курсы в процессе
    * [ ] курсы в которых я админ
    * [ ] настройка уведомлений о курсах
* Система поиска подходящих курсов и специализаций
    * [ ] текстовое поле пойска
    * [ ] флаг пойска по названию
    * [ ] флаг пойска по предметной области
    * [ ] флаг пойска по создателю курса/специализации
    * [ ] фильтр выборки по специализациям
    * [ ] фильтр выборки по курсам
    * [ ] поле поиска среди всех предметных областей
    * [ ] поле поиска среди всех создателей курса
* Система просмотра и создания курсов
    * Редактор информации о курсе
        * [ ] Какая специализация
        * [ ] Информация/описание (4к символов) - форматируемая
    * Редактор курса
        * [ ] Видим карту из разделов курса (схема курса)
    * Страница информации о курсе от лица обычного пользователя
        * [ ] Добавление комментариев
        * [ ] Удаление своего комментария
        * [ ] Редактирование своего комментария
        * [ ] Добавление комментария на другой комментарий
        * [ ] Добавление комментария в ответ на другой комментарий
        * [ ] Просмотр текста описания
        * [ ] Просмотр рейтинга
        * [ ] Выставление рейтинга (только по прохождению опр части курса)
        * [ ] Информация о создателях
        * [ ] Постер курса сверху
        * [ ] Название курса сверху
        * [ ] Предметная/ые области затрагиваемые в курсе и главные
        * [ ] Кнопка "Хочу пройти"
        * [ ] Кнопка "Начать курс"
    * Порядок прохождения курса
        * [ ] После подтверждение "начать курс" курс добавляется в активные для текущего юзера
        * [ ] Видим карту из разделов курса
    * Система уведомлений и планирования
        * [ ] После подтверждение

* Система планирования задач
    * [ ] календарь с пометками
* Система оповещения
    * [ ] о предстоящих курсах в организации
    * [ ] о необходимости повторения материала

* [ ] Кнопка "хочу в организацию"



<br><br>

---
---
---
---

<br>  

## 2. Установка и настройка
<a name="setup"></a> 

### 1 Установка зависимостей
<a name="dependences"></a> 

Для начала установите python3 версии не ниже 3.7 (https://www.python.org/downloads/)
Установите node.js вместе с npm версии выше 7.14 (https://nodejs.org/en/)
установите pipenv (подробнее здесь: https://semakin.dev/2020/04/pipenv/)

```bash
cd нужный каталог, где будет лежать код приложения
git clone https://github.com/alchemistOfWeb/forumKEI.git
cd forumKEI/django
pipenv install # чтобы установить все зависимости проекта
cd ../reactapp
npm install # чтобы установить зависимости для react
```


### 2 Секретный ключ
<a name="create_secret_key"></a> 

Для начала скопируйте файл .env.example и уберите строку `.example` из названия копии (оставьте только `.env`)

Создайте секретный ключ и добавьте в настройки соответствующими командами:
```bash
pipenv run python manage.py shell
>>> from django.core.management.utils import get_random_secret_key
>>> print(get_random_secret_key()) # скопируйте полученный командой ключ
>>> exit()
pipenv run dotenv set SECRET_KEY "{sk}" # заместо {sk} должен быть полученный выше ключ
```

### 3 Настройка базы данных
<a name="setup_db"></a> 

По умолчанию используется sqlite в качестве тестовой бд. Если хотите то вы можете установить свои настройки для бд в settings.py.

Информация о подключении к другим бд: https://docs.djangoproject.com/en/3.1/ref/databases/

### 4 Миграции
<a name="migrations"></a> 

Сделайте миграции в вашу бд
```bash
python manage.py migrate
```

### 5 Для доступа к админке 
<a name="admin_panel"></a> 

```bash
python manage.py create superuser
name: ******* # придумайте, например admin
pas: ********** # придумайте, например admin
```

### 6 Запуск тестового сервера
<a name="test_server"></a> 

Запуск тестового сервера для бекенда
> ../django/
```bash
pipenv run python manage.py runserver
```

Тестовый сервер для фронтенда (запускайте из новой вкладки терминала)
> ../reactapp/
```bash
npm install
```

## 3. Описание функционала приложения
<a name="description"></a> 

### регистрация/вход
<a name="auth"></a> 

Регистрация, вход реализованы с помощью djoser.

### пользователи
<a name="users"></a> 

Cтандартно из коробки django

### Разделы
<a name="sections"></a>

Новый раздел можеть добавить только адмим в админке

### Поднятые темы
<a name="topics"></a>

Можно перейти и просмотреть комментарии.


### Комментариев(в теме)
<a name="opinions"></a>

Новые комментарии могут создавать только зарегистрированные и незаблокированные пользователи.
